import React, { useEffect, useRef } from "react";
import { View, StyleSheet, Animated } from "react-native";
import { StackNavigationProp } from "@react-navigation/stack";
import Svg, { Path } from "react-native-svg";

type SplashScreenProps = {
  navigation: StackNavigationProp<any, "Splash">;
};

const SplashScreen: React.FC<SplashScreenProps> = ({ navigation }) => {
  const fadeAnim = useRef(new Animated.Value(0)).current;
  const scaleAnim = useRef(new Animated.Value(0.95)).current;

  useEffect(() => {
    Animated.parallel([
      Animated.timing(fadeAnim, {
        toValue: 1,
        duration: 1000,
        useNativeDriver: true,
      }),
      Animated.spring(scaleAnim, {
        toValue: 1,
        friction: 8,
        tension: 40,
        useNativeDriver: true,
      }),
    ]).start();

    const timer = setTimeout(() => {
      navigation.replace("Posts");
    }, 3000);

    return () => clearTimeout(timer);
  }, [navigation, fadeAnim, scaleAnim]);

  return (
    <View style={styles.container}>
      <Animated.View
        style={{
          opacity: fadeAnim,
          transform: [{ scale: scaleAnim }],
        }}
      >
        <Svg width={179} height={75} fill="none">
          <Path
            fill="#AA0082"
            d="M26.964 11.764C26.964 5.294 20.922 0 13.497 0 6.072 0 0 5.266 0 11.764V32.33c0 6.47 6.042 11.764 13.497 11.764 7.425 0 13.497-5.266 13.497-11.764.09-2.227-.872-4.349-2.645-5.948l-4.99-4.349 5.02-4.375c1.773-1.65 2.645-3.72 2.585-5.895ZM2.404 12c0-5.083 4.39-9.485 10.221-9.904 2.692-.183 5.367.505 7.546 1.94a10.563 10.563 0 0 0-2.255-.237c-4.93 0-9.138 3.222-9.59 7.362-.03.21-.03.42-.03.656-.03 1.833.752 3.668 2.165 5.16l-1.864 1.625-5.862 5.11c-.12.104-.21.21-.3.314V11.998h-.03L2.404 12Zm20.202 15.825a5.86 5.86 0 0 1 1.645 2.373c.33.898.415 1.854.249 2.788-.48 2.934-3.547 5.162-7.124 5.162-2.615 0-4.96-1.259-5.982-3.223-1.173-2.253-.902-4.69.691-6.497l2.315 2.015c1.013.897 1.678 2.064 1.894 3.328.09.524.57.917 1.172.917.721 0 1.293-.55 1.203-1.152-.271-1.704-1.173-3.276-2.586-4.533l-2.405-2.097 3.908-3.405 5.02 4.324Zm-5.801-6.577-5.892 5.136c-2.766 2.488-3.427 6.078-1.714 9.406 1.413 2.698 4.6 4.454 8.177 4.454 1.112 0 2.194-.184 3.216-.472-2.176 1.564-4.914 2.357-7.695 2.227-5.953-.262-10.492-4.743-10.492-9.903v-2.7c0-1.597.751-3.091 2.014-4.218l1.713-1.494 10.01-8.723c1.383-1.217 2.281-2.81 2.556-4.533.09-.63-.481-1.153-1.203-1.153-.601 0-1.082.393-1.172.917-.217 1.264-.881 2.43-1.894 3.327l-2.255 1.966c-.961-1.075-1.503-2.385-1.473-3.642 0-.158 0-.315.03-.498.331-3.066 3.518-5.476 7.215-5.476 2.585 0 4.9 1.257 5.922 3.197 1.323 2.515.872 5.24-1.202 7.1l-5.861 5.082Zm34.315.843a4.798 4.798 0 0 0 1.755-1.506c.243-.34.405-.68.54-.996a4.78 4.78 0 0 0 .297-1.578c0-1.507-.648-2.72-1.943-3.571-1.269-.85-2.888-1.263-4.832-1.239h-7.53v18.63h7.8c2.024 0 3.752-.414 5.128-1.215 1.512-.898 2.268-2.258 2.268-4.031 0-.875-.297-1.75-.864-2.623-.594-.85-1.485-1.483-2.619-1.871Zm-.593 6.68c-.918.51-2.024.776-3.266.776h-5.155v-6.071h4.75c1.053 0 1.998.145 2.78.413 1.485.486 2.214 1.335 2.214 2.599-.027 1.044-.46 1.797-1.323 2.283Zm-8.421-7.554V15.46h4.67c1.214 0 2.212.243 3.022.704.783.437 1.16 1.118 1.16 2.065 0 .874-.35 1.579-1.052 2.162-.701.558-1.808.85-3.293.85h-4.507v-.024Zm22.268-2.478c-.621 0-1.215.097-1.728.267a5 5 0 0 0-2.402 1.652v-1.724H57.68v12.873h2.618v-6.291c0-1.215.324-2.259.971-3.085.621-.825 1.62-1.215 2.997-1.215.431 0 .62.025.701.05l.378.072v-2.454l-.189-.072c-.108-.024-.27-.073-.782-.073Zm12.253.874c-1.025-.583-2.267-.898-3.697-.898-1.296 0-2.51.315-3.59.923-1.068.597-1.936 1.445-2.51 2.453a6.262 6.262 0 0 0-.891 3.255c0 1.215.324 2.331.945 3.327.583 1.019 1.483 1.863 2.59 2.43 1.134.607 2.376.898 3.699.898a7.566 7.566 0 0 0 3.913-1.044c1.16-.705 1.944-1.676 2.349-2.891l.08-.267-2.32-.655-.082.243a3.671 3.671 0 0 1-1.457 1.821c-.675.413-1.512.63-2.51.63-1.269 0-2.322-.363-3.185-1.14-.81-.68-1.269-1.507-1.404-2.526h11.04l.026-.243c.027-.195.027-.389.027-.632 0-1.287-.243-2.429-.755-3.352-.463-.973-1.257-1.79-2.268-2.332Zm.405 4.518h-8.367c.224-.85.71-1.624 1.404-2.235.836-.703 1.754-1.044 2.86-1.044 1.188 0 2.133.315 2.835.972.675.607 1.08 1.383 1.268 2.307Zm16.788-3.11a7.655 7.655 0 0 0-1.538-1.335c-.89-.632-2.051-.947-3.455-.947-1.997 0-3.644.704-4.885 2.09-1.198 1.275-1.85 2.895-1.836 4.565 0 1.773.621 3.303 1.809 4.615 1.268 1.336 2.915 2.016 4.912 2.016 2.079 0 3.779-.73 5.02-2.162v1.993h2.592V18.981h-2.591v2.041h-.028Zm-.566 2.163c.405.68.593 1.408.593 2.187.028 1.19-.404 2.259-1.322 3.181-.918.899-1.97 1.36-3.239 1.36h-.054c-.89 0-1.7-.218-2.402-.631-1.404-.875-2.105-2.114-2.105-3.838 0-1.311.431-2.405 1.241-3.28.783-.849 1.863-1.262 3.24-1.262.842 0 1.667.22 2.374.63.704.416 1.28.984 1.674 1.653Zm17.274-2.21a7.93 7.93 0 0 0-1.593-1.336c-.944-.607-2.105-.923-3.427-.923-1.998 0-3.644.704-4.886 2.088-1.198 1.276-1.849 2.896-1.835 4.567 0 1.773.62 3.302 1.808 4.615C101.864 31.32 103.51 32 105.508 32c2.078 0 3.778-.728 5.047-2.185v2.016h2.564V12.473h-2.591v8.5Zm-.567 2.21c.405.68.594 1.408.594 2.187.027 1.19-.405 2.259-1.323 3.181-.917.899-1.97 1.36-3.239 1.36h-.054c-.89 0-1.7-.218-2.402-.631-1.403-.875-2.105-2.113-2.105-3.838 0-1.311.432-2.405 1.242-3.28.782-.849 1.862-1.262 3.238-1.262.864 0 1.647.219 2.376.632a4.493 4.493 0 0 1 1.673 1.651Zm12.605-10.76c-1.35 0-2.456.389-3.293 1.166-.81.801-1.215 1.943-1.215 3.352v2.015h-2.645v2.114h2.645v10.76h2.592V21.047h3.589v-2.114h-3.589v-2.064c0-.899.216-1.554.674-1.895.378-.291.81-.437 1.323-.437.567 0 .999.048 1.322.146l.405.121v-2.088l-.189-.073a6.03 6.03 0 0 0-1.619-.219Zm13.738 8.598a7.622 7.622 0 0 0-1.538-1.336c-.891-.632-2.051-.947-3.455-.947-1.997 0-3.644.704-4.885 2.09-1.198 1.275-1.85 2.895-1.836 4.565 0 1.773.621 3.303 1.809 4.615 1.268 1.336 2.915 2.016 4.912 2.016 2.078 0 3.779-.73 5.02-2.162v1.993h2.592V18.981h-2.592v2.041h-.027Zm-.566 2.162c.404.68.593 1.408.593 2.187.027 1.19-.404 2.259-1.322 3.181-.918.899-1.97 1.36-3.239 1.36h-.054a4.677 4.677 0 0 1-2.402-.631c-1.404-.875-2.106-2.114-2.106-3.838 0-1.311.432-2.405 1.242-3.28.783-.849 1.862-1.262 3.239-1.262a4.73 4.73 0 0 1 2.375.63 4.498 4.498 0 0 1 1.674 1.653Zm12.901 1.24-2.186-.438c-1.187-.267-1.754-.729-1.754-1.434 0-.486.216-.873.674-1.19.432-.34.999-.51 1.674-.51.945 0 1.646.243 2.078.704.378.414.621.85.729 1.288l.081.267 2.402-.632-.054-.242c-.135-.608-.432-1.19-.891-1.773-.917-1.142-2.375-1.724-4.345-1.749-1.053 0-2.105.29-3.104.85-1.242.68-1.862 1.725-1.862 3.084 0 1.846 1.241 3.012 3.643 3.498l2.106.414c.593.121 1.079.314 1.457.606.351.243.54.559.54.972 0 .534-.216.948-.702 1.24a3.33 3.33 0 0 1-1.835.508c-.918 0-1.62-.218-2.105-.679a2.865 2.865 0 0 1-.945-1.628l-.054-.291-2.402.558.027.243c.106.728.412 1.421.89 2.016.972 1.263 2.538 1.895 4.643 1.895 1.43 0 2.645-.364 3.644-1.093.998-.705 1.511-1.676 1.511-2.866 0-.997-.378-1.797-1.134-2.405a6.464 6.464 0 0 0-2.726-1.214ZM162 21.07v-2.137h-3.482v-3.547h-2.591v3.546h-2.537v2.138h2.537v7.262c0 2.332 1.457 3.571 4.183 3.571.594 0 1.161-.073 1.674-.219l.216-.048V29.62l-.351.048c-.392.063-.79.096-1.188.097-1.727 0-1.943-.825-1.943-1.457v-7.238H162ZM39.602 52.944c0-.366.068-.734.204-1.107.136-.372.347-.723.634-1.053 1.045.459 1.955.81 2.728 1.053.78.244 1.583.365 2.406.365.15 0 .305-.014.462-.042.165-.03.294-.068.387-.119a1.27 1.27 0 0 0 .086-.3c.021-.13.032-.233.032-.312 0-.35-.168-.652-.505-.902-.337-.251-.78-.502-1.332-.752l-.376-.183c-1.074-.551-1.937-1.045-2.589-1.482a5.892 5.892 0 0 1-1.643-1.74c-.444-.724-.666-1.608-.666-2.654 0-1.532.426-2.76 1.278-3.684.86-.924 2.224-1.386 4.093-1.386 1.597 0 2.86.096 3.792.29.386.229.723.469 1.01.72.293.243.572.54.837.891a9.74 9.74 0 0 1-.15 1.633 9.175 9.175 0 0 1-.397 1.6c-.165.488-.344.838-.538 1.053-.164.08-.347.14-.547.183a4.31 4.31 0 0 1-.742.054c-.308 0-.558-.022-.752-.065a1.763 1.763 0 0 1-.537-.215l-.333-2.234a8.303 8.303 0 0 0-1.321-.247c-.465-.057-.78-.082-.945-.075-.265.121-.448.293-.548.515-.093.215-.14.473-.14.774 0 .322.086.601.258.838.18.229.394.419.645.569.25.15.572.319.966.505l.473.236c1.024.537 1.83 1.006 2.417 1.407.587.401 1.078.91 1.472 1.526.4.609.601 1.346.601 2.213 0 1.01-.265 1.88-.795 2.61a4.499 4.499 0 0 1-2.04 1.568c-.452.18-.95.308-1.494.387-.544.079-1.174.118-1.89.118a7.39 7.39 0 0 1-1.569-.182 5.623 5.623 0 0 1-1.633-.645 3.58 3.58 0 0 1-1.257-1.235 2.442 2.442 0 0 1-.042-.494Zm12.042-3.996c0-1.297.207-2.421.623-3.373.415-.953 1.052-1.69 1.912-2.213.86-.53 1.937-.795 3.233-.795 1.432 0 2.557.268 3.373.805.817.53 1.386 1.268 1.708 2.213.33.946.494 2.102.494 3.47 0 1.239-.218 2.345-.655 3.32a5.188 5.188 0 0 1-1.955 2.298c-.867.559-1.93.838-3.19.838-1.948 0-3.36-.598-4.233-1.794-.874-1.203-1.31-2.793-1.31-4.77Zm5.983 3.416c.365 0 .587-.03.666-.086.165-.287.29-.691.376-1.214.086-.523.129-1.089.129-1.697 0-.56-.036-1.082-.108-1.569-.071-.494-.171-.88-.3-1.16-.08-.093-.237-.161-.473-.204a3.73 3.73 0 0 0-.773-.075c-.366 0-.616.04-.752.118-.359.616-.538 1.472-.538 2.567 0 .516.04 1.042.119 1.58.078.536.179 1.023.3 1.46.086.093.262.165.527.215.265.043.54.065.827.065Zm6.735-3.309c0-1.239.208-2.345.623-3.32a5.065 5.065 0 0 1 1.923-2.309c.874-.573 1.962-.86 3.266-.86.444 0 .952.03 1.525.087.58.05 1.135.129 1.665.236l.215.15c.322.222.559.401.71.538.157.128.321.311.493.547 0 .387-.053.92-.16 1.6-.101.674-.23 1.3-.388 1.88-.157.58-.308.953-.45 1.118-.237.122-.62.183-1.15.183-.258 0-.502-.018-.73-.054a1.743 1.743 0 0 1-.506-.161l-.225-1.987c-.108-.122-.355-.219-.741-.29a5.202 5.202 0 0 0-1.053-.119c-.1 0-.194.007-.28.022-.164.336-.29.766-.375 1.289a9.856 9.856 0 0 0-.13 1.6c0 .788.13 1.458.387 2.01.258.543.785.816 1.58.816.393 0 .78-.065 1.16-.194.386-.129.873-.326 1.46-.59.244-.115.427-.197.549-.248.286.287.511.588.676.903.165.315.272.72.322 1.213-.458.538-1.102 1.071-1.933 1.601-.824.53-1.787.795-2.89.795-1.174 0-2.18-.283-3.018-.849-.831-.572-1.461-1.346-1.89-2.32-.423-.981-.635-2.077-.635-3.287Zm12.203-9.174c0-.63.204-1.142.613-1.536.415-.394 1.074-.59 1.976-.59.903 0 1.558.196 1.966.59.415.394.623.906.623 1.536 0 .358-.125.688-.376.989-.243.3-.566.54-.967.72a3.132 3.132 0 0 1-1.246.257c-.465 0-.898-.1-1.3-.3a2.834 2.834 0 0 1-.945-.774c-.229-.308-.344-.605-.344-.892Zm-.526 6.145a7.293 7.293 0 0 1-.193-.956 7.54 7.54 0 0 1-.054-.913l.01-.301c.151-.194.384-.387.699-.58a5.02 5.02 0 0 1 1.117-.505c.43-.136.874-.204 1.332-.204 1.003 0 1.715.225 2.138.676.422.452.634 1.154.634 2.106 0 .573-.083 1.321-.247 2.245-.158.924-.351 1.823-.58 2.696-.222.867-.416 1.486-.58 1.859l.02.021 1.59-.58c.287.244.502.512.645.806.15.293.247.634.29 1.02 0 .05-.157.258-.472.623-.315.358-.734.695-1.257 1.01-.516.308-1.114.462-1.794.462-.688 0-1.246-.186-1.676-.559-.422-.372-.634-1.01-.634-1.912 0-1.052.029-2.17.086-3.351.058-1.182.147-2.328.269-3.438l-1.343-.225Zm11.183 2.191c.422 0 .888.043 1.396.129.516.086.988.19 1.418.312v-.334c0-.221-.007-.468-.021-.74a3.104 3.104 0 0 0-.043-.538c-.065-.121-.251-.247-.559-.376-.3-.129-.795-.193-1.482-.193-.423 0-.86.054-1.31.161-.445.1-.939.236-1.483.408-.294-.487-.53-.949-.71-1.386a3.667 3.667 0 0 1-.257-1.332c0-.136.01-.272.032-.408 1.16-.902 2.66-1.353 4.501-1.353 1.017 0 1.92.114 2.707.343a3.71 3.71 0 0 1 1.945 1.333c.508.658.762 1.593.762 2.803 0 1.182-.14 2.328-.419 3.438a219.884 219.884 0 0 1-.419 1.686l1.558-.666c.208.222.39.494.548.817.165.315.268.68.311 1.095-.1.215-.318.49-.655.828-.337.329-.748.623-1.235.88a3.218 3.218 0 0 1-1.526.387c-.594 0-1.045-.175-1.353-.526-.301-.351-.451-.806-.451-1.365 0-.315.046-.633.14-.956l-.323-.096c-.2 1.131-.627 1.905-1.278 2.32a3.935 3.935 0 0 1-2.16.623 2.874 2.874 0 0 1-1.493-.43c-.48-.293-.87-.716-1.17-1.267-.301-.559-.452-1.21-.452-1.955 0-1.19.297-2.091.892-2.707.594-.623 1.457-.935 2.589-.935Zm1.224 4.093c.18-.036.39-.136.634-.3.25-.166.473-.363.666-.592.194-.229.308-.447.344-.655l-.065-.258a9.288 9.288 0 0 0-1.214-.075c-.365 0-.615.029-.751.086-.23.258-.344.544-.344.86 0 .229.057.436.172.622.121.187.308.29.558.312Zm7.498-11.065a9.827 9.827 0 0 1-.215-1.084 7.3 7.3 0 0 1-.043-1.01c.15-.194.384-.387.699-.58a5.02 5.02 0 0 1 1.117-.505c.43-.136.874-.204 1.332-.204.895 0 1.583.225 2.062.676.48.452.72 1.118.72 1.998 0 .63-.054 1.644-.161 3.04a89.146 89.146 0 0 1-.462 4.459c-.2 1.568-.43 2.94-.687 4.114l.021.021 1.59-.666c.559.48.884 1.117.978 1.912 0 .05-.162.258-.484.623-.322.358-.748.695-1.278 1.01-.523.308-1.125.462-1.805.462-.709 0-1.285-.197-1.73-.59-.436-.395-.644-1.068-.622-2.02l.021-1.934c.007-1.833.025-3.484.054-4.952.036-1.468.107-2.983.215-4.544l-1.322-.226Zm12.612 10.603c.437.143.834.258 1.192.344.695-2.793 1.486-6.091 2.374-9.894l-2.589-.28a4.453 4.453 0 0 1-.247-1.535c0-.437.05-.863.151-1.279 1.038-.2 2.234-.343 3.587-.43a52.403 52.403 0 0 1 3.502-.139c.702 0 1.229.004 1.579.01l.677.387c1.203 3.302 2.424 7.767 3.663 13.396.015.057.04.172.076.344.042.172.075.336.096.494.022.15.032.294.032.43 0 .601-.214 1.088-.644 1.46-.602.237-1.329.355-2.181.355-.401 0-.805-.043-1.214-.129-.408-.086-.684-.218-.827-.397l.129-2.772-.268-1.44c-.466.03-1.014.044-1.644.044-.673 0-1.303-.022-1.891-.065l-.129.58c-.279 1.246-.508 2.13-.687 2.654-.172.523-.43.91-.773 1.16-.337.25-.842.376-1.515.376-.437 0-.877-.057-1.321-.172a5.323 5.323 0 0 1-1.204-.44c-.358-.187-.626-.387-.805-.602 0-.516.079-1.006.236-1.472.158-.465.373-.795.645-.988Zm7.53-9.453h-.494l-.774 5.296h2.407l-1.139-5.296Zm7.444 3.684a7.51 7.51 0 0 1-.301-1.246 12.849 12.849 0 0 1-.064-1.418c.115-.1.301-.215.559-.343.257-.137.565-.255.923-.355.359-.1.727-.15 1.107-.15.866 0 1.479.186 1.837.558.365.373.548.931.548 1.676 0 .416-.061.978-.183 1.687-.2 1.138-.301 1.736-.301 1.794 0 .035.025.071.075.107a.324.324 0 0 0 .162.043c.064 0 .107-.025.129-.075l.107-.43.236-.913c.351-1.325.874-2.396 1.569-3.212.694-.824 1.568-1.235 2.621-1.235.787 0 1.428.172 1.923.515.501.337.863.785 1.085 1.343.222.552.333 1.16.333 1.826 0 .903-.086 1.916-.258 3.04a24.042 24.042 0 0 1-.688 3.137c-.279.953-.745 1.708-1.396 2.267-.645.551-1.45.827-2.417.827a5.35 5.35 0 0 1-1.236-.172c-.465-.108-1.056-.297-1.772-.57l-.43 2.03.022.022 2.051-.14c.137.194.237.427.301.699.072.28.133.598.183.956l.032.215c0 .029-.157.161-.473.397-.315.244-.734.466-1.256.666-.523.208-1.125.312-1.805.312-1.54 0-2.31-.82-2.31-2.46v-.741c0-2.185.015-4.129.043-5.833.036-1.712.108-3.255.215-4.63l-1.171-.194Zm7.563 6.575c.258-.967.386-2.432.386-4.394a4.98 4.98 0 0 0-.053-.816c-.165-.208-.401-.312-.709-.312-.1.086-.444.652-1.031 1.697a56.532 56.532 0 0 0-1.3 2.396v.515c.394.273.848.498 1.364.677.516.172.91.258 1.182.258a.515.515 0 0 0 .161-.021Zm5.865-6.575a7.412 7.412 0 0 1-.301-1.246 12.605 12.605 0 0 1-.064-1.418c.114-.1.301-.215.558-.343a4.71 4.71 0 0 1 .924-.355c.358-.1.727-.15 1.107-.15.866 0 1.478.186 1.837.558.365.373.547.931.547 1.676 0 .416-.06.978-.182 1.687-.201 1.138-.301 1.736-.301 1.794 0 .035.025.071.075.107a.32.32 0 0 0 .161.043c.065 0 .108-.025.129-.075l.108-.43.236-.913c.351-1.325.874-2.396 1.568-3.212.695-.824 1.569-1.235 2.621-1.235.788 0 1.429.172 1.923.515.502.337.863.785 1.085 1.343.222.552.333 1.16.333 1.826 0 .903-.086 1.916-.258 3.04a24.045 24.045 0 0 1-.687 3.137c-.279.953-.745 1.708-1.397 2.267-.644.551-1.45.827-2.417.827a5.35 5.35 0 0 1-1.235-.172c-.465-.108-1.056-.297-1.772-.57l-.43 2.03.021.022 2.052-.14c.136.194.237.427.301.699.072.28.132.598.183.956l.032.215c0 .029-.158.161-.473.397-.315.244-.734.466-1.257.666-.522.208-1.124.312-1.804.312-1.54 0-2.31-.82-2.31-2.46v-.741c0-2.185.014-4.129.043-5.833.036-1.712.107-3.255.215-4.63l-1.171-.194Zm7.563 6.575c.257-.967.386-2.432.386-4.394 0-.337-.018-.609-.053-.816-.165-.208-.402-.312-.709-.312-.101.086-.444.652-1.032 1.697a58.961 58.961 0 0 0-1.3 2.396v.515c.394.273.849.498 1.365.677.515.172.909.258 1.181.258a.517.517 0 0 0 .162-.021Z"
          />
        </Svg>
      </Animated.View>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fee8f9",
    alignItems: "center",
    justifyContent: "center",
  },
});

export default SplashScreen;
